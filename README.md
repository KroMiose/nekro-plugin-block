# 用户屏蔽管理插件 (User Block Manager)

AI 自主管理用户屏蔽的插件，支持两种屏蔽模式。

## 主要功能

### 两种屏蔽模式

1. **禁止触发模式 (Prevent Trigger)**

   - 被屏蔽用户的消息 AI 仍然可见
   - 该用户无法直接唤醒 AI
   - 当 AI 被其他触发条件唤醒时，仍能看到该用户的消息
   - 适用场景：用户频繁 @AI 或刷屏，但 AI 仍想保留观察权

2. **完全屏蔽模式 (Full Block)**
   - AI 完全看不到被屏蔽用户的消息
   - 就像该用户不存在一样
   - 适用场景：用户严重违规、恶意骚扰，或 AI 完全不想看到其消息

### 核心功能

- **精确的屏蔽时长**: 支持秒级自定义屏蔽时长，AI 可自行计算时长
- **永久屏蔽**: 可配置是否允许 AI 设置永久屏蔽
- **自动到期**: 屏蔽时间到期后自动解除
- **状态展示**: 在 AI 的系统提示词中显示当前屏蔽的用户列表
- **灵活查询**: AI 可以查看已屏蔽用户的详细信息和剩余时间

## 配置说明

- **启用禁止触发功能**: 是否允许 AI 使用禁止触发模式
- **启用完全屏蔽功能**: 是否允许 AI 使用完全屏蔽模式
- **最大屏蔽时长（秒）**: 单次屏蔽的最大秒数限制（默认 259200 秒=72 小时）
- **默认屏蔽时长（秒）**: AI 未指定时长时使用的默认值（默认 86400 秒=24 小时）
- **允许永久屏蔽**: 是否允许 AI 设置永久屏蔽
- **提示词中显示**: 是否在 AI 提示词中显示屏蔽用户

**注意**: 系统会在屏蔽时间到期后自动解除，无需额外配置。

## 代码使用示例

AI 会通过代码调用这些方法：

```python
# 屏蔽用户1小时（3600秒）
block_user_prevent_trigger("12345678", "频繁刷屏", 3600)

# 屏蔽用户24小时（86400秒）
block_user_full("12345678", "发送违规内容", 86400)

# 查看已屏蔽的用户
list_blocked_users()

# 解除屏蔽
unblock_user("12345678")
```

## 注意事项

- 屏蔽操作会直接作用到系统的用户控制层面
- 建议配置合理的最大屏蔽时长，避免 AI 过度使用
