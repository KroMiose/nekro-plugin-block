# 用户屏蔽管理插件

AI 自主管理用户屏蔽的插件，让 AI 能够主动屏蔽骚扰用户，实现自我保护。

## 功能说明

### 两种屏蔽模式

**1. 禁止触发模式**
- AI 仍能看到该用户的消息
- 但该用户无法直接唤醒 AI
- 适合：用户频繁 @AI 或刷屏，但 AI 想保留观察权

**2. 完全屏蔽模式**
- AI 完全看不到该用户的任何消息
- 适合：用户严重违规或恶意骚扰

### 屏蔽范围

⚠️ **重要**：屏蔽对当前平台适配器的所有会话生效，而非仅限单个聊天群组。

例如：在 QQ 群 A 中屏蔽用户后，该用户在 QQ 群 B、私聊等所有 QQ 场景都会被屏蔽。

## 配置选项

| 配置项 | 默认值 | 说明 |
|-------|--------|------|
| 启用禁止触发功能 | ✓ | 允许 AI 使用禁止触发模式 |
| 启用完全屏蔽功能 | ✓ | 允许 AI 使用完全屏蔽模式 |
| 最大屏蔽时长（秒） | 259200<br/>(72小时) | 单次屏蔽的最大时长限制<br/>0 = 无限制 |
| 默认屏蔽时长（秒） | 86400<br/>(24小时) | AI 未指定时使用的默认时长 |
| 允许永久屏蔽 | ✗ | 是否允许 AI 永久屏蔽用户<br/>⚠️ 建议保持关闭 |
| 提示词中显示 | ✓ | 在 AI 提示词中显示屏蔽用户 |
| 最多显示用户数 | 5 | 提示词中最多显示的屏蔽用户数 |

## 使用示例

AI 会通过代码调用：

```python
# 屏蔽用户 1 小时（3600 秒）
block_user_prevent_trigger("12345678", "频繁刷屏", 3600)

# 完全屏蔽用户 24 小时
block_user_full("12345678", "发送违规内容", 86400)

# 查看已屏蔽的用户
list_blocked_users()

# 解除屏蔽
unblock_user("12345678")
```

## 使用建议

### 管理员
- 设置合理的最大屏蔽时长，建议 72 小时 - 7 天
- 谨慎开启"允许永久屏蔽"功能
- 定期检查屏蔽列表，避免误屏蔽

### AI 使用原则
- 明确说明屏蔽原因
- 根据违规程度选择合适的模式和时长
- 定期检查并解除不必要的屏蔽
